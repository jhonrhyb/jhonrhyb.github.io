<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Matrix Developer Portfolio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/style.css">
</head>

<body>

  <canvas id="bg"></canvas>

  <nav class="navbar">
    <a href="#hero" class="logo">ðŸ’»</a>
    <ul class="nav-links">
      <li><a href="#about">About</a></li>
      <li><a href="#skills">Skills</a></li>
      <li><a href="#projects">Projects</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul>
  </nav>

  <header class="hero" id="hero">
    <img src="./image/developer.jpg" alt="Developer Avatar" class="hero-img">
    <h1>Hi, I'm <span id="typewriter"></span></h1>
    <p>Web Developer & Creative Coder</p>
    <a href="#projects" class="btn">View My Work</a>
  </header>

  <section id="about">
    <h2>About Me</h2>
    <p>I build modern, interactive web experiences with a strong focus on performance, design, and usability.</p>
  </section>

  <section id="skills">
    <h2>Skills</h2>
    <div class="skill-grid">
      <span>HTML</span>
      <span>CSS</span>
      <span>SQL</span>
      <span>MySQL</span>
      <span>RESTful APIs</span>
      <span>JavaScript</span>
      <span>PHP</span>
      <span>Angular</span>
      <span>Code Igniter</span>
      <span>Laravel</span>
      <span>React</span>
      <span>Three.js</span>
      <span>UI / UX</span>
    </div>
  </section>

  <section id="projects">
    <h2>Projects</h2>
    <div class="projects">
      <div class="project-card">
        <h3>Matrix Portfolio</h3>
        <p>3D animated developer portfolio with WebGL.</p>
      </div>
      <div class="project-card">
        <h3>Landing Page</h3>
        <p>Modern responsive landing page design.</p>
      </div>
    </div>
  </section>

  <section class="contact" id="contact">
    <h2>Contact</h2>
    <p>Email: ortiz.jhonrhyb@gmail.com</p>
  </section>

  <!-- ES Module Script for Three.js -->
  <script type="module">
    import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.module.js';

    /* =====================
       SCENE SETUP
    ===================== */
    const canvas = document.getElementById("bg");
    const scene = new THREE.Scene();

    const camera = new THREE.PerspectiveCamera(
      75,
      window.innerWidth / window.innerHeight,
      0.1,
      1000
    );
    camera.position.z = 80;

    const renderer = new THREE.WebGLRenderer({
      canvas,
      antialias: true,
      alpha: true
    });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);

    /* =====================
       RANDOM CHARACTER
    ===================== */
    const chars = "0123456789";

    function randomChar() {
      return chars[Math.floor(Math.random() * chars.length)];
    }

    function createCharTexture(char) {
      const size = 64;
      const canvas = document.createElement("canvas");
      canvas.width = canvas.height = size;
      const ctx = canvas.getContext("2d");

      ctx.clearRect(0, 0, size, size);
      ctx.font = "bold 48px monospace";
      ctx.fillStyle = "#00ffdd";
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";

      ctx.shadowColor = "#00ffdd";
      ctx.shadowBlur = 10;

      ctx.fillText(char, size / 2, size / 2);

      return new THREE.CanvasTexture(canvas);
    }

    /* =====================
       MATRIX CHARACTERS
    ===================== */
    const sprites = [];
    const COUNT = 700;

    for (let i = 0; i < COUNT; i++) {
      const char = randomChar();
      const texture = createCharTexture(char);

      const material = new THREE.SpriteMaterial({
        map: texture,
        transparent: true,
        opacity: 0.9,
        depthWrite: false
      });

      const sprite = new THREE.Sprite(material);

      sprite.position.set(
        (Math.random() - 0.5) * 400,
        (Math.random() - 0.5) * 250,
        Math.random() * -600
      );

      sprite.scale.set(8, 8, 1);
      sprite.userData.speed = 0.5 + Math.random() * 0.6;

      scene.add(sprite);
      sprites.push(sprite);
    }

    /* =====================
       MOUSE TRACKING
    ===================== */
    const mouse = new THREE.Vector2(999, 999);

    window.addEventListener("mousemove", e => {
      mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
      mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
    });

    /* =====================
       ANIMATION LOOP
    ===================== */
    function animate() {
      requestAnimationFrame(animate);

      sprites.forEach(sprite => {
        /* Forward motion */
        sprite.position.z += sprite.userData.speed;

        if (sprite.position.z > 50) {
          sprite.position.z = -600;
          sprite.position.x = (Math.random() - 0.5) * 400;
          sprite.position.y = (Math.random() - 0.5) * 250;
        }

        /* Soft mouse gravity */
        const mx = mouse.x * 120;
        const my = mouse.y * 70;

        const dx = mx - sprite.position.x;
        const dy = my - sprite.position.y;
        const dist = Math.sqrt(dx * dx + dy * dy);

        const radius = 60;

        if (dist < radius) {
          const force = (radius - dist) / radius;

          sprite.position.x += dx * force * 0.006;
          sprite.position.y += dy * force * 0.006;

          sprite.position.x += -dy * force * 0.003;
          sprite.position.y += dx * force * 0.003;
        }
      });

      renderer.render(scene, camera);
    }

    animate();

    /* =====================
       RESIZE
    ===================== */
    window.addEventListener("resize", () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
  <script src="./javascript/script.js"></script>
</body>

</html>